# Социальная сеть путешественников

Это проект социальной сети для путешественников, где пользователи могут делиться фотографиями о местах, которые они посетили.

## Функциональные требования

### 1. Регистрация аккаунта
- Пользователь может зарегистрировать аккаунт.

### 2. Публикация постов
- Пользователь может создавать посты, прикрепляя одну или несколько фотографий.
- Пост должен содержать текстовое описание и геолокацию.
- Пользователь может удалить свой пост.

### 3. Оценка постов
- Пользователи могут ставить лайки под постами.
- Пользователи могут убирать свои лайки под постами.

### 4. Создание комментариев под постами
- Пользователи могут оставлять комментарии под постами других пользователей.
- Пользователи могут удалять свои комментарии.

### 5. Подписка на другие аккаунты
- Пользователи могут подписываться на других пользователей, чтобы получать их обновления в ленте.
- Пользователи могут отписываться от других пользователей.

### 6. Поиск популярных мест для путешествий
- Встроенный поиск по популярным туристическим направлениям, городам, достопримечательностям.

### 7. Просмотр постов с популярных мест для путешествий
- Просмотр постов, связанных с конкретными популярными местами, достопримечательностями или городами.

### 8. Просмотр постов пользователей
- Просмотр всех постов, опубликованных конкретным пользователем.

### 9. Просмотр ленты пользователя, основанной на подписках (в обратном хронологическом порядке)
- Лента новостей пользователя отображает посты только тех, на кого он подписан.
- Лента должна обновляться в реальном времени и показывать новые посты в обратном хронологическом порядке (от новых к старым).
- Задержка до 5 секунд: Посты появляются в ленте подписчиков в течение 5 секунды после публикации.

## Нефункциональные требования

- **DAU**: 10,000,000
- **Аудитория**: страны СНГ
- **Хранение данных**: данные будем хранить всегда

### Активности пользователя:
- В среднем каждый пользователь добавляет по 10 постов в месяц
- В среднем каждый пользователь просматривает ленту 10 раз в день
- В среднем каждый пользователь смотрит 50 постов в день
- В среднем каждый пользователь ставит 20 лайков в день
- В среднем каждый пользователь оставляет 2 комментария в день
- В среднем создается 3000 новых аккаунтов в день
- В среднем каждый пользователь читает 20 комментариев в день
- В среднем каждый пользователь смотрит популярные места 10 раз в месяц
- В среднем каждый пользователь подписывается на 10 аккаунтов в месяц

### Пиковая активность:
- В пиковые сезоны (лето, новогодние праздники) активность пользователей вырастает на **30%**.

---

## Лимиты

### Лимиты активностей пользователя:
- Создание постов в день: `< 100`
- Количество подписчиков пользователя: `< 1,000,000`
- Количество подписок пользователя: `< 20,000`
- Количество лайков в день: `< 1,000`
- Количество комментариев в день: `< 500`
- Ограничений на просмотр постов: **нет**

### Лимиты на данные:
- Количество фотографий на 1 пост: `< 5`
- Вес одной фотографии: `< 2МБ`
- Длина текстового описания поста: `< 1,000 символов`
- Максимальное количество комментариев на 1 пост: `< 1,000`
- Длина комментария: `< 500 символов`
- Ограничений на количество лайков под постом: **нет**

---

## Нагрузка

### Посты:
- **Write**:
  - **RPS (~39)**:
    `10,000,000 * 10 (месяц) / 30 (в день) / 24 (в час) / 60 (в минуту) / 60 (в секунду) = ~39`  
  - **Traffic метаинформация(~50.7КБ/с)**:  
    Вес метаинформации одного поста (текст, геолокация и служебные данные)
    `~1.3КБ ~39 * 1.3КБ = ~50.7КБ/с`
  - **Traffic метаинформация(~390МБ/с)**:  
    Вес медия одного поста = ~10мб  
    `~39 * 10мб = ~390мб/с`

- **Read**:
  - **RPS (~600)**:  
    `10,000,000 * 50 (в день) / 24 / 60 / 60 / 10 (пагинация) = ~600`  
  - **Traffic метаинформация(~7.8МБ/с)**:  
    Вес метаинформации одного поста (текст, геолокация и служебные данные)
    `~6000 * 1.3КБ = ~7.8МБ/с`
  - **Traffic метаинформация(~60ГБ/с)**:  
    Вес медия одного поста = ~10мб  
    `~6000 * 10МБ = ~60ГБ/с`

---

### Лайки:
- **Write**:
  - **RPS (~231)**:  
    `10,000,000 * 20 (в день) / 24 / 60 / 60 = ~231`  
    В пиковые сезоны: `~300`
  - **Traffic (~0.23МБ/с)**:  
    Вес одного лайка: ~1КБ  
    `~231 * 1КБ = ~0.23МБ/с`  

- **Read**:
  - **RPS (~600)**:  
    `10,000,000 * 50 (в день) / 24 / 60 / 60 / 10 (пагинация) = ~600`  
    В пиковые сезоны: `~7800`
  - **Traffic (~0.6МБ/с)**:  
    Вес одного лайка: ~0.1КБ  
    `~600 * 10 * 0.1КБ = ~0.6МБ/с`  

---

### Комментарии:
- **Write**:
  - **RPS (~231)**:  
    `10,000,000 * 2 (в день) / 24 / 60 / 60 = ~231`  
  - **Traffic (~1.15МБ/с)**:  
    Вес одного комментария: ~5КБ  
    `~231 * 5КБ = ~1.15МБ/с`  

- **Read**:
  - **RPS (~1000)**:  
    `10,000,000 * 20 (в день) / 24 / 60 / 60 / 20 (пагинация)= ~1000`  
  - **Traffic (~100МБ/с)**:  
    `~20,000 * 5КБ = ~100МБ/с`  

---

### Популярные места:
- **Read**:
  - **RPS (~4)**:  
    `10,000,000 * 10 (месяц) / 30 (в день) / 24 / 60 / 60 / 10 (пагинация) = ~4`  
    В пиковые сезоны: `~51`
  - **Traffic (~0.4МБ/с)**:  
    Вес одного запроса данных: ~1мб  
    `~39 * 1мб = ~39МБ/с`  
